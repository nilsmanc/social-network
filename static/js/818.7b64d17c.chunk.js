"use strict";(self.webpackChunkreact_first=self.webpackChunkreact_first||[]).push([[818],{4818:function(e,r,n){n.r(r),n.d(r,{default:function(){return d}});var t=n(885);var s=n(2791),u=n(364),i=n(7773),c=n(184),o=function(){var e=(0,u.I0)(),r=(0,u.v9)((function(e){return e.chat.status}));return(0,s.useEffect)((function(){return e((0,i.WE)()),function(){e((0,i.R7)())}}),[]),(0,c.jsxs)("div",{children:["error"===r&&(0,c.jsx)("div",{children:"Some error occured. Please refresh the page"}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a,{}),(0,c.jsx)(f,{})]})]})},a=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var r=(0,u.v9)((function(e){return e.chat.messages})),n=(0,s.useRef)(null),i=(0,s.useState)(!0),o=(0,t.Z)(i,2),a=o[0],f=o[1];return(0,s.useEffect)((function(){a&&null!==n.current&&n.current.scrollIntoView({behavior:"smooth"})}),[r]),(0,c.jsxs)("div",{style:{height:"400px",overflowY:"auto"},onScroll:function(e){var r=e.currentTarget;Math.abs(r.scrollHeight-r.scrollTop-r.clientHeight)<300?!a&&f(!0):!a&&f(!1)},children:[r.map((function(e,r){return(0,c.jsx)(l,{message:e},e.id)})),(0,c.jsx)("div",{ref:n})]})},l=s.memo((function(e){var r=e.message;return(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:r.photo,style:{width:"30px"}}),(0,c.jsx)("b",{children:r.userName}),(0,c.jsx)("br",{}),r.message,(0,c.jsx)("hr",{})]})})),f=function(){var e=(0,s.useState)(""),r=(0,t.Z)(e,2),n=r[0],o=r[1],a=(0,u.I0)(),l=(0,u.v9)((function(e){return e.chat.status}));return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)("textarea",{onChange:function(e){return o(e.currentTarget.value)},value:n})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{disabled:"ready"!==l,onClick:function(){n&&(a((0,i.bG)(n)),o(""))},children:"Send"})})]})},d=function(){return(0,c.jsx)("div",{children:(0,c.jsx)(o,{})})}}}]);
//# sourceMappingURL=818.7b64d17c.chunk.js.map