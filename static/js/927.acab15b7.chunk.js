"use strict";(self.webpackChunkreact_first=self.webpackChunkreact_first||[]).push([[927],{8927:function(s,e,t){t.r(e),t.d(e,{default:function(){return ns}});var n=t(1413),r=t(5671),i=t(3144),o=t(136),a=t(8557),l=t(2791),c=t(364),u=t(4294),d=t(2982),h=t(7437),f=t(1020),p=t(704),x=t(5413),j=t(184),m=(0,p.Z)({form:"profile-add-post"})((function(s){return(0,j.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,j.jsx)("div",{children:(0,x.Gr)("Your post","newPostText",[],x.gx)}),(0,j.jsx)("div",{children:(0,j.jsx)(f.Z,{htmlType:"submit",style:{margin:"5px 0 0 0"},children:"Add post"})})]})})),v="MyPosts_postsBlock__r6tDq",g="MyPosts_posts__4pUsA",k=t(885),P=t(8529),Z=t(7732),b=t(7064),_=t(7804),I=t(1154),S=t(3704),y=t(2426),N=t.n(y),A=function(s){var e=(0,l.useState)(0),t=(0,k.Z)(e,2),n=t[0],r=t[1],i=(0,l.useState)(0),o=(0,k.Z)(i,2),a=o[0],u=o[1],d=(0,l.useState)(null),f=(0,k.Z)(d,2),p=f[0],x=f[1],m=[(0,j.jsx)(P.Z,{title:"Like",children:(0,j.jsxs)("span",{onClick:function(){r(1),u(0),x("liked")},children:[(0,l.createElement)("liked"===p?b.Z:_.Z),(0,j.jsx)("span",{className:"comment-action",children:n})]})},"comment-basic-like"),(0,j.jsx)(P.Z,{title:"Dislike",children:(0,j.jsxs)("span",{onClick:function(){r(0),u(1),x("disliked")},children:[l.createElement("disliked"===p?I.Z:S.Z),(0,j.jsx)("span",{className:"comment-action",children:a})]})},"comment-basic-dislike"),(0,j.jsx)("span",{children:"Reply to"},"comment-basic-reply-to")],v=(0,c.v9)(h.gJ),g=(0,c.v9)(h.vW);return(0,j.jsx)(Z.Z,{actions:m,author:g,avatar:v,content:s.message,datetime:(0,j.jsx)(P.Z,{title:N()().format("YYYY-MM-DD HH:mm:ss"),children:(0,j.jsx)("span",{children:N()().fromNow()})})})},w=function(s){var e=(0,d.Z)(s.posts).reverse().map((function(s){return(0,j.jsx)(A,{message:s.message},s.id)}));return(0,c.v9)(h.Ai)?(0,j.jsxs)("div",{className:v,children:[(0,j.jsx)("h3",{children:"My Posts"}),(0,j.jsx)(m,{onSubmit:function(e){e.newPostText&&(s.addPost(e.newPostText),e.newPostText="")}}),(0,j.jsx)("div",{className:g,children:e})]}):(0,j.jsx)(j.Fragment,{})},M=l.memo(w),T=(0,c.$j)((function(s){return{posts:s.profilePage.posts}}),{addPost:u.Nw.addPostActionCreator})(M),C="ProfileInfo_mainPhoto__BxLV7",D="ProfileInfo_contact__Qvirx",F="ProfileInfo_file__-hqGg",U="ProfileInfo_label__qknNK",E="ProfileInfo_profileWrapper__UwMXf",O="ProfileInfo_nameBlock__idtMS",B="ProfileInfo_avatarBlock__hitYH",G="ProfileInfo_descriptionBlock__fI29I",J=function(s){var e=(0,l.useState)(!1),t=(0,k.Z)(e,2),n=t[0],r=t[1],i=(0,l.useState)(s.status),o=(0,k.Z)(i,2),a=o[0],c=o[1];(0,l.useEffect)((function(){c(s.status)}),[s.status]);return(0,j.jsxs)("div",{children:[!n&&(0,j.jsx)("div",{children:(0,j.jsx)("span",{onClick:function(){r(!0)},children:s.status||"What's new?"})}),n&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),s.updateStatus(a)},value:a})})]})},Y=t(4353),q=t(9234),z=t(8204),L=(0,p.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,t=s.profile,n=s.error,r=z.Z.Text;return(0,j.jsxs)("form",{onSubmit:e,children:[(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"save"})}),n&&(0,j.jsx)("div",{className:q.Z.formSummaryError,children:n}),(0,j.jsxs)("div",{children:[(0,j.jsx)(r,{strong:!0,children:"Full name "}),":"," ",(0,x.Gr)("Full name","fullName",[],x.II)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(r,{strong:!0,children:"Looking for a job "}),":",(0,x.Gr)("","lookingForAJob",[],x.II,{type:"checkbox"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(r,{strong:!0,children:"My professional skills "}),":",(0,x.Gr)("My professional skills","lookingForAJobDescription",[],x.gx)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(r,{strong:!0,children:"About me"}),":",(0,x.Gr)("About me","aboutMe",[],x.gx)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(r,{strong:!0,children:"Contacts"}),":"," ",Object.keys(t.contacts).map((function(s){return(0,j.jsx)("div",{className:D,children:(0,j.jsxs)(r,{strong:!0,children:[s,": ",(0,x.Gr)(s,"contacts."+s,[],x.II)]})},s)}))]})]})})),V=t(7083),W=t(6775),H=t(1752),R=function(s){var e=s.profile,t=(s.isOwner,s.goToEditMode),n=W.Z.TabPane,r=(0,j.jsx)(H.Z,{onClick:t}),i=z.Z.Text;return(0,j.jsx)("div",{children:(0,j.jsxs)(W.Z,{tabBarExtraContent:r,children:[(0,j.jsxs)(n,{tab:"Information",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(i,{strong:!0,children:"Looking for a job "}),": ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,j.jsxs)("div",{children:[(0,j.jsx)(i,{strong:!0,children:"My professional skills "}),": ",e.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(i,{strong:!0,children:"About me"}),": ",e.aboutMe]})]},"1"),(0,j.jsx)(n,{tab:"Contacts",children:(0,j.jsx)("div",{children:Object.keys(e.contacts).map((function(s){return(0,j.jsx)($,{contactTitle:s,contactValue:e.contacts[s]},s)}))})},"2")]})})},$=function(s){var e=s.contactTitle,t=s.contactValue,n=z.Z.Text;return(0,j.jsxs)("div",{className:D,children:[(0,j.jsx)(n,{strong:!0,children:e}),": ",t]})},K=function(s){var e=s.profile,t=s.status,n=s.updateStatus,r=s.isOwner,i=s.savePhoto,o=s.saveProfile,a=(0,l.useState)(!1),c=(0,k.Z)(a,2),u=c[0],d=c[1],h=z.Z.Title;if(!e)return(0,j.jsx)(V.Z,{size:"large"});return(0,j.jsxs)("div",{className:E,children:[(0,j.jsxs)("div",{className:O,children:[(0,j.jsx)(h,{children:(0,j.jsx)("span",{children:e.fullName})}),(0,j.jsx)(J,{status:t,updateStatus:n})]}),(0,j.jsx)("input",{className:F,type:"file",id:"file",onChange:function(s){s.target.files&&s.target.files.length&&(i(s.target.files[0]),console.log(s))}}),(0,j.jsxs)("div",{className:B,children:[(0,j.jsx)("img",{src:e.photos.large||Y,className:C}),r&&(0,j.jsx)(f.Z,{children:(0,j.jsx)("label",{htmlFor:"file",className:U,children:(0,j.jsx)("span",{children:"Upload Photo"})})})]}),(0,j.jsx)("div",{className:G,children:u?(0,j.jsx)(L,{initialValues:e,profile:e,onSubmit:function(s){o(s).then((function(){d(!1)}))}}):(0,j.jsx)(R,{goToEditMode:function(){d(!0)},profile:e,isOwner:r})})]})},Q=function(s){return(0,j.jsxs)("div",{children:[(0,j.jsx)(K,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,saveProfile:s.saveProfile,updateStatus:s.updateStatus}),(0,j.jsx)(T,{})]})},X=t(2932),ss=t(7781),es=t(5628),ts=function(s){(0,o.Z)(t,s);var e=(0,a.Z)(t);function t(s){return(0,r.Z)(this,t),e.call(this,s)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var s=+this.props.router.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),s?(this.props.getUserProfile(s),this.props.getStatus(s)):console.error("ID should exist in URI params or in state('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e){this.props.router.params.userId!=s.router.params.userId&&this.refreshProfile()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return(0,j.jsx)(Q,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(l.Component),ns=(0,ss.qC)((0,c.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:u.et,getStatus:u.lR,updateStatus:u.Nf,savePhoto:u.Ju,saveProfile:u.Ii}),es.E,X.D)(ts)},2932:function(s,e,t){t.d(e,{D:function(){return u}});var n=t(1413),r=t(5987),i=(t(2791),t(364)),o=t(6871),a=t(184),l=["isAuth"],c=function(s){return{isAuth:s.auth.isAuth}};function u(s){return(0,i.$j)(c,{})((function(e){var t=e.isAuth,i=(0,r.Z)(e,l);return t?(0,a.jsx)(s,(0,n.Z)({},i)):(0,a.jsx)(o.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=927.acab15b7.chunk.js.map